language: cpp

os:
  - linux
  - osx


compiler: 
    - gcc
    - clang

script:
- if [ "$TRAVIS_OS_NAME" = "linux" ]; then 
      sudo apt-get -qq update 
      sudo apt-get install python-software-properties
      sudo add-apt-repository -y ppa:ubuntu-toolchain-r/test
      sudo apt-get update
      sudo apt-get install gcc-4.8 g++-4.8
      sudo apt-get install cmake
      sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 10
 fi


- if [ "$TRAVIS_OS_NAME" = "linux" ]; then sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.8 10; fi

- if [ "$TRAVIS_OS_NAME" = "osx" ]; then brew update; fi

- if [ "$TRAVIS_OS_NAME" = "osx" ] && [ "$CC" = "gcc" ]; then export CC=gcc-4.8; export CXX=g++-4.8; fi

- ".scripts/buildAndRunTests.sh"
